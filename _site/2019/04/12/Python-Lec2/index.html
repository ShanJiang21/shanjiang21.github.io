<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Hi, I am Shan(@shanjiang21).">
    <meta name="keywords" content="Previous New Yorker, a small-town blog writter">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title"
        content="Python Basics - Shan Jiang -- A salarygirl, daughter & life-learner">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="

All programming languages must be able to:
">
    
    <meta property="article:published_time" content=" 2019-04-12T20:32:24Z">
    
    
    <meta property="article:author" content="Shan J.">
    
    
    <meta property="article:tag" content="Python">
    
    <meta property="article:tag" content="Computational Social Science">
    
    
    <meta property="og:image" content="http://localhost:4000/img/avatar.jpg">
    <meta property="og:url" content="http://localhost:4000/2019/04/12/Python-Lec2/">
    <meta property="og:site_name" content="Shan Jiang -- A salarygirl, daughter & life-learner">

    <title>Python Basics - Shan Jiang -- A salarygirl, daughter & life-learner</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2019/04/12/Python-Lec2/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Shan's hub</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li>
                            <a href="/sharing/">Sharing</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg');
        background: ;
    }

    
</style>




<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=Python" title="Python">Python</a>
                        
                        <a class="tag" href="/archive/?tag=Computational+Social+Science" title="Computational Social Science">Computational Social Science</a>
                        
                    </div>
                    <h1>Python Basics</h1>
                    
                    <h2 class="subheading"></h2>
                    <span class="meta">Posted by Shan J. on April 12, 2019</span>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async=""></script>

<p>All programming languages must be able to:</p>

<ol>
  <li>remember things,</li>
  <li>repeat things,</li>
  <li>communicate, and</li>
  <li>make decisions.</li>
</ol>

<p>Functions are all about #2: <strong>repeating things</strong>. Think of a function as a standalone mini-program: It takes some inputs, performs some operations, and generates an output. We define a function once, and we can execute the code define within a function as many times as we like – repeating all those lines of code with a single invocation.</p>

<p>The code we’ve written in Python have already employed functions – so far, we’ve defined a function named <em>main</em> and invoked it to kick off the execution of a program.  But we’ll go way beyond that, defining many functions to do one small thing apiece, and putting them together into a larger program. Now that our programs are starting to get more robust and sophisticated, you’ll define functions beyond just main for pretty much everything you write. Not just in Python and not just in DS2000, but for all of your computer science/data science/programming going forward.</p>

<p><strong>Why Functions</strong></p>

<p>Functions help us to organize our code. They save us from writing a big, long, ugly <em>main</em>. A function is written once and then its code can be executed many times.</p>

<p>Functions are short and concise. <strong>Keep this rule of thumb in mind:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A  Function has one job.
</code></pre></div></div>

<p>We define a function to do its one little thing, and then we can execute that code many times, on all kinds of different inputs.</p>

<p>We define functions because they are:</p>

<ol>
  <li><strong><em>Modular</em></strong>. We end up with many small, single-purpose functions, which we can then piece together into a larger program. It’s the same reason IKEA gives us a bunch of separate shelves that we assemble; it might be annoying, but it’s much easier than if we had to build the whole bookshelf from scratch ourselves.</li>
  <li><strong><em>Testable</em></strong><em>.</em> We’ve written test cases for our Python programs in this class, which are great and useful. The drawback of what we’ve done so far, with everything in one big <em>main</em>, is that <u>we need to provide input at the prompt</u> and then <strong>eyeball the output</strong> to make sure it all worked as expected. Functions enable us to test our code <em>programmatically</em>  – instead of a human eyeball, it’s Python code that determines whether a function generated the correct output given an input. Much more reliable.</li>
  <li><strong><em>Reuseable</em></strong><em>.</em> Once a function is defined, we can use it in many programs, sometimes with wildly different purposes. For example, Python provides a function that generates a random number, and I’ve used this function for programs that roll dice, deal a card from a deck, play a guessing game, play rock/scissors/paper, and basically any game of chance you can think of, because they’re my favorite programs to write. That one function has come in handy in tons of ways.</li>
</ol>

<p><strong>Name, Parameters, Return Type</strong></p>

<p>A function is uniquely defined by three characteristics:</p>

<ol>
  <li><strong><em>Name (required)</em></strong> . Similar to a variable name, a function is named so we can refer to it elsewhere in the program.</li>
  <li><strong><em>Parameters (zero or more).</em></strong> The data types of its expected input(s). A parameter is a variable that is attached to the function. Because variables must be initialized before we can meaningful use them, a parameter is initialized by the function caller.</li>
  <li><strong><em>Return Type (zero or one).</em></strong> The data type of its expected output. A function performs some operation on its input, and returns the result to the function caller.</li>
</ol>

<p>Here’s an example of a simple function in Python, defined by the function writer:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">divide</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s"> function: divide
        parameters: two numbers, x and y
        returns: a float, the result of dividing x / y
    </span><span class="sh">'''</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<p>Let’s break it down to the important parts:</p>

<ul>
  <li><strong>Name</strong>: divide</li>
  <li><strong>Parameters</strong>: two numbers, which could be floats or ints. The parameters are variables attached to the function, and they are named <em>x</em> and <em>y</em>. You can see that <em>x</em> and <em>y</em> are not initialized here in the function definition, but we know that we need them to be initialized so that we can use them – they’ll be given values by the function caller.</li>
  <li><strong>Return type</strong>: a float. The function returns the result of <em>x / y</em>, which is a float even if <em>x</em> and <em>y</em> are both integers.</li>
</ul>

<p>A few other things to notice here:</p>

<ul>
  <li>There is a block comment written just under the function name. It must be in block comments so that <a href="https://docs.python.org/2/library/pydoc.html">pydoc</a> will generate your function documentation correctly. For DS2000, we require both parameters and return type to be specified here, but including the name is optional (it’s just something I like to do so I can see them all together in IDLE’s green highlights).</li>
  <li>The last line of the function is a <strong>return</strong> statement. Return is a <strong>reserve word</strong> in Python. Its job is to hand a value back to the caller. Once a return statement is executed, flow of control also returns to the caller. If any additional code were written here underneath the return statement, it would never be executed.</li>
</ul>

<p>A function is not required to return a value. <u>If it doesn’t return anything, we call it a “void function,”</u> and we say that its return type is <strong>void.</strong></p>

<p>The <em>main</em> functions we’ve defined in our programs so far don’t return anything; when the flow of control reaches the end of the function, the function just ends without explicitly requiring a return statement.</p>

<p><strong>Calling the function</strong>. Here’s how it would look if I call the <em>divide</em> function from somewhere inside my main function:</p>

<p><u>What to notice here:</u></p>

<ul>
  <li>We had to know the <em>name, parameters</em>, and <em>return type</em> of this function in order to call it. That’s how we know the correct syntax for invoking it.</li>
  <li>We’ve named our variables here <em>a</em> and <em>b</em> and initialized them to have the values 14 and 5. Therefore, 14 and 5 become the values associated with the function’s parameters <em>x</em> and <em>y</em>. The values 14 and 5 are the <strong>arguments</strong> to the divide function.</li>
  <li>Because the function <em>divide</em> returns a value, the function caller must save the value it returns. Otherwise, the result of dividing 14/5 would be lost. Here, we’re saving the result in a variable, but we could also print it out, or use it as input to another function… but we can’t ignore it.</li>
</ul>

<p><strong>Flow of Control</strong></p>

<p>Without functions, a basic little Python code snippet would be executed from top to bottom and left to right, just like reading a book. Here’s an example you might recognize from class: converting my dog’s weight in stone to his weight in pounds.</p>

<table>
  <thead>
    <tr>
      <th><strong>1</strong></th>
      <th>weight_in_stone = 5.35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>2</strong></td>
      <td><strong>weight_in_pounds = weight_in_stone * 14</strong></td>
    </tr>
    <tr>
      <td><strong>3</strong></td>
      <td><strong>print(‘Tug weighs’, round(weight_in_pounds, 2), ‘pounds!’)</strong>*</td>
    </tr>
  </tbody>
</table>

<p>The flow of control is easy to follow and predictable. The lines are executed in this order:</p>

<ul>
  <li><strong>Line 1</strong></li>
  <li><strong>Line 2</strong></li>
  <li><strong>Line 3</strong></li>
</ul>

<p>Now let’s turn this little bit of code into a function. Even though there’s not much going on with this calculation, it makes sense to turn it into a function, because:</p>

<ul>
  <li>It could easily be reused in lots of different contexts.</li>
  <li>It clearly takes one input (weight in stone) and computes a value (weight in pounds).</li>
  <li>It’s a calculation we might need more than once in the same program.</li>
</ul>

<p>Turning this calculation into a function alters the flow of control. Flow of control begins with <em>main</em>, which is often called the “driver”, and should be the first place you look when trying to understand someone else’s code. Then, flow of control flows into a function when it is invoked. Flow of control goes back to the caller when a return statement is executed.  Let’s take another look at this example, as a more complete Python program:</p>

<pre><code class="language-python ">
def stone_to_pounds(num_stone):
    num_pounds = num_stone * 14
    return num_pounds

def main():
    weight_in_stone = 5.35
    pounds = stone_to_pounds(weight_in_stone)
    print('Tug weighs', round(pounds, 2), 'pounds!')

main()
</code></pre>

<p>The flow of control really begins at line 10 ( at <u>line 1</u> and <u>line 5</u>, we define functions but don’t execute them so the flow of control doesn’t go there yet). When we call the stone_to_pounds function, the flow of control goes up to line 1, and then returns to the caller at line 7. In all, here’s the flow:</p>

<ul>
  <li><strong>Line 10</strong></li>
  <li><strong>Line 5</strong></li>
  <li><strong>Line 6</strong></li>
  <li><strong>Line 7 # invoke stone_to_pounds</strong></li>
  <li><strong>Line 1</strong></li>
  <li><strong>Line 2</strong></li>
  <li><strong>Line 3</strong></li>
  <li><strong>Line 7 # flow of control returns to caller;</strong></li>
</ul>

<p>​       <strong># variable</strong> <strong><em>pounds</em></strong> <strong>is initialized</strong></p>

<ul>
  <li><strong>Line 8</strong></li>
</ul>

<p>At line 3, the flow of control returns to the caller. Whatever value is stored in the variable <em>num_pounds</em> is handed back to the caller. This value is used to initialize the variable <em>pounds</em> in main.</p>

<p><strong>A Word on Testing (and more soon…)</strong></p>

<p>We said above that one of the reasons for writing functions in the first place is so we can test our code programmatically.</p>

<p>We’ll talk a lot more about testing and debugging in the next few weeks, but for now think of it this way: in the example above, we wrote a function to divide two numbers. Rather than calling the function and eyeballing the output, we can now call the function and write some code to verify that it worked as expected. Rather than hitting function+F5 over and over again to run the program with different inputs, we can use code to test our function many, many times without breaking a sweat. It’ll be great.</p>

<p><strong>Testing and Debugging</strong></p>

<p>We already know the most important part of testing and debugging: when something goes wrong, DON’T PANIC!!</p>

<p>The second most important part of this process is to find possible issues in our code early. Remember, most of the software you write will be used by people who aren’t you. We design and write a big, hopefully useful, piece of code, and hand it off to a group of users who want our software so they can accomplish something meaningful, creative, and substantive. And – I say this from experience – your users will act as if they are <em>trying</em> to break your program. Your job is not to let them.</p>

<p>Testing and debugging work together:</p>

<ul>
  <li><strong>Testing</strong> is the process of running a program (or parts of a program) to ascertain whether it works as intended.</li>
  <li><strong>Debugging</strong> is the process of fixing a program that you already know does not work as intended.</li>
</ul>

<p>Good programmers write their programs in a way that makes them easier to test and debug. It’s not something to think about after you’ve written your program, but to think about before you begin writing.</p>

<p>We’ll get some practice with testing in DS2000 by writing test suites. A test suite is a separate Python program, with its own <em>main</em>, that repeatedly calls a function you’ve written to validate that it works correctly. A test suite will contain tests for multiple functions.</p>



                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2019/04/10/Seeing-the-unseeable-black-hole-and-ego/" data-toggle="tooltip" data-placement="top" title="Seeing the unseeable">
                        Previous<br>
                        <span>Seeing the unseeable</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2019/04/15/Nothing-Forever/" data-toggle="tooltip" data-placement="top" title="Nothing Forever">
                        Next<br>
                        <span>Nothing Forever</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

                
            </div>

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                



                
            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->






<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "shanj";
    var disqus_identifier = "/2019/04/12/Python-Lec2";
    var disqus_url = "http://localhost:4000/2019/04/12/Python-Lec2/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <!-- SNS Link -->
              


<ul class="list-inline text-center">


  
  
  <li>
    <a href="https://twitter.com/Alexand43261453">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/shanjiang21">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.linkedin.com/in/shanj21">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
</ul>
                <p class="copyright text-muted">
                      Powered by <a href="https://github.com/huxpro/huxpro.github.io">Jekyll</a>
                    <br>Copyright &copy; Shan JIANG. 2025
                    <br> <img src="/img/icon_wechat.png" alt="Girl in a jacket" width= "22%" height="10%">
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-138327408-1';
    var _gaDomain = 'shanj21.com';

    // Originial
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason,
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure
                });
                $searchInput.focus();
            }
        });
    });
</script>


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
